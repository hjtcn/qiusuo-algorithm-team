# 707. è®¾è®¡é“¾è¡¨

> LeetCodeåœ°å€ï¼š[è®¿é—®](https://leetcode-cn.com/problems/design-linked-list/) 
Githubåœ°å€ï¼šè®¿é—®

## é¢˜ç›®åŠé¢˜æ„åˆ†æ

### é¢˜ç›®

è®¾è®¡é“¾è¡¨çš„å®ç°ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–åŒé“¾è¡¨ã€‚å•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·æœ‰ä¸¤ä¸ªå±æ€§ï¼švalÂ å’ŒÂ nextã€‚valÂ æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼ŒnextÂ æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ/å¼•ç”¨ã€‚å¦‚æœè¦ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦ä¸€ä¸ªå±æ€§Â prevÂ ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ 0-index çš„ã€‚

åœ¨é“¾è¡¨ç±»ä¸­å®ç°è¿™äº›åŠŸèƒ½ï¼š

- get(index)ï¼šè·å–é“¾è¡¨ä¸­ç¬¬Â indexÂ ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœç´¢å¼•æ— æ•ˆï¼Œåˆ™è¿”å›-1ã€‚
- addAtHead(val)ï¼šåœ¨é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ·»åŠ ä¸€ä¸ªå€¼ä¸ºÂ valÂ çš„èŠ‚ç‚¹ã€‚æ’å…¥åï¼Œæ–°èŠ‚ç‚¹å°†æˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
- addAtTail(val)ï¼šå°†å€¼ä¸ºÂ val çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚
- addAtIndex(index,val)ï¼šåœ¨é“¾è¡¨ä¸­çš„ç¬¬Â indexÂ ä¸ªèŠ‚ç‚¹ä¹‹å‰æ·»åŠ å€¼ä¸ºÂ valÂ  çš„èŠ‚ç‚¹ã€‚å¦‚æœÂ indexÂ ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œåˆ™è¯¥èŠ‚ç‚¹å°†é™„åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æœ index å¤§äºé“¾è¡¨é•¿åº¦ï¼Œåˆ™ä¸ä¼šæ’å…¥èŠ‚ç‚¹ã€‚å¦‚æœindexå°äº0ï¼Œåˆ™åœ¨å¤´éƒ¨æ’å…¥èŠ‚ç‚¹ã€‚
- deleteAtIndex(index)ï¼šå¦‚æœç´¢å¼•Â index æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬Â index ä¸ªèŠ‚ç‚¹ã€‚

**æç¤ºï¼š**

- æ‰€æœ‰`val`å€¼éƒ½åœ¨Â `[1, 1000]`Â ä¹‹å†…ã€‚
- æ“ä½œæ¬¡æ•°å°†åœ¨Â `[1, 1000]`Â ä¹‹å†…ã€‚
- è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„ LinkedList åº“ã€‚

**ç¤ºä¾‹ï¼š**

```
MyLinkedList linkedList = new MyLinkedList();
linkedList.addAtHead(1);
linkedList.addAtTail(3);
linkedList.addAtIndex(1,2);   //é“¾è¡¨å˜ä¸º1-> 2-> 3
linkedList.get(1);            //è¿”å›2
linkedList.deleteAtIndex(1);  //ç°åœ¨é“¾è¡¨æ˜¯1-> 3
linkedList.get(1);            //è¿”å›3
```

### é¢˜æ„

- ä½¿ç”¨é“¾è¡¨å®ç°é¢˜ç›®è¦æ±‚

### è§£é¢˜æ€è·¯

1. å•é“¾è¡¨
2. åŒé“¾è¡¨

## ä»£ç å®ç°

ã€æ€è·¯1ã€‘**å¤±è´¥ä»£ç **

```tsx
interface LNode {
    val: number;
    prev: LNode | null;
    next: LNode | null;
}

class MyLinkedList {
    constructor() {

    }

    linkHead: LNode | null = null;

    get(index: number): number {
        let tempNode = this.linkHead;

        if(!tempNode) return -1;

        for(let i=0;i< index;i++) {
            tempNode = tempNode.next;

            // å•ç¯æ²¡æœ‰åŒ¹é…ç»“æœ
            if(tempNode === this.linkHead) {
                return -1;
            }
        }

        return tempNode.val;
    }

    addAtHead(val: number): void {
        const { linkHead } = this;
        const newHead = {
            val,
            prev: linkHead ? linkHead.prev : null,
            next: linkHead,
        }

        // å¤´ç»“ç‚¹ä¸å­˜åœ¨æ—¶ï¼Œå°±æŠŠæ–°åˆ›å»ºçš„ç»“ç‚¹è®¾ç½®ä¸ºå¤´ç»“ç‚¹
        // å­˜åœ¨ï¼Œå°±æŠŠæ–°çš„ç»“ç‚¹æ’å…¥åˆ°åŸæ¥çš„ç»“ç‚¹å‰é¢
        if(!linkHead) {
            newHead.prev = newHead;
            newHead.next = newHead;
        }else {
            linkHead.prev = newHead;
            linkHead.next = newHead;
        }

        this.linkHead = newHead;
    }

    addAtTail(val: number): void {
        const { linkHead } = this;

        if(!linkHead) {
            this.addAtHead(val);
            return;
        }

        const newTail = {
            val,
            prev: linkHead.prev,
            next: linkHead,
        }

        this.linkHead.prev.next = newTail;
        this.linkHead.prev = newTail;
    }

    addAtIndex(index: number, val: number): void {
        const { linkHead } = this;
        let tempNode = linkHead;

        if(index < 0) {
            this.addAtHead(val);
            return;
        }

        for(let i=0;i<index;i++) {
            tempNode = tempNode.next;

            if(tempNode === linkHead && index > i) {
                if(i+1 === index) {
                    this.addAtTail(val);
                }
                return;
            }
        }

        const newNode = {
            val,
            prev: tempNode.prev,
            next: tempNode,
        }

        tempNode.prev.next = newNode;
        tempNode.prev = newNode;
    }

    deleteAtIndex(index: number): void {
        const { linkHead } = this;
        let tempNode = linkHead;

        for(let i=0;i<index;i++) {
            tempNode = tempNode.next;
        }

        tempNode.prev.next = tempNode.next;
        tempNode.next.prev = tempNode.prev;
    }
}

/**
 * Your MyLinkedList object will be instantiated and called as such:
 * var obj = new MyLinkedList()
 * var param_1 = obj.get(index)
 * obj.addAtHead(val)
 * obj.addAtTail(val)
 * obj.addAtIndex(index,val)
 * obj.deleteAtIndex(index)
 */
```

åˆ†æï¼šæƒ³ä½¿ç”¨åŒé“¾è¡¨å®ç°ï¼Œç»“æœç»†èŠ‚å¤ªå¤šäº†ï¼Œæ²¡å¼„å¥½ï¼Œè¶Šå¤„ç†è¶Šä¹±ï¼Œæœ€åå·²ç»ç»•ä¸å‡ºæ¥äº†ã€‚

ã€æ€è·¯1ã€‘**æ­£ç¡®ä»£ç **

```tsx
interface LNode {
    val: number;
    next: LNode | null;
}

class MyLinkedList {
    constructor() {

    }

    linkHead: LNode | null = null;
    linkLength = 0;

    get(index: number): number {
        let tempNode = this.linkHead;

        if(!tempNode || index < 0 || index > this.linkLength-1) return -1;

        for(let i=0;i< index;i++) {
            tempNode = tempNode.next;
        }

        return tempNode.val;
    }

    addAtHead(val: number): void {
        this.addAtIndex(0, val);
    }

    addAtTail(val: number): void {
        this.addAtIndex(this.linkLength, val);
    }

    addAtIndex(index: number, val: number): void {
        const { linkHead, linkLength } = this;
        let tempNode = linkHead;

        if(linkLength < index) {
            return;
        }

        if(index <= 0 || !linkHead) {
            this.linkHead = {
                val,
                next: tempNode,
            };
            this.linkLength++;
            return;
        }

        if(linkLength === index) {
            for(let i=0;i<linkLength-1;i++) {
                tempNode = tempNode.next;
            }

            tempNode.next = {
                val,
                next: null,
            }
        }else {
            for(let i=0;i<index-1;i++) {
                tempNode = tempNode.next;
            }

            tempNode.next = {
                val,
                next: tempNode.next,
            }
        }

        this.linkLength++;
    }

    deleteAtIndex(index: number): void {
        const { linkHead, linkLength } = this;
        let tempNode = linkHead;

        if(index < 0 || index > linkLength-1) {
            return;
        }

        if(index === 0) {
            this.linkHead = linkHead.next;
        }else {
            for(let i=0;i<index-1;i++) {
                tempNode = tempNode.next;
            }

            const temp = tempNode.next;
            tempNode.next = temp.next;
        }

        this.linkLength--;
    }
}

/**
 * Your MyLinkedList object will be instantiated and called as such:
 * var obj = new MyLinkedList()
 * var param_1 = obj.get(index)
 * obj.addAtHead(val)
 * obj.addAtTail(val)
 * obj.addAtIndex(index,val)
 * obj.deleteAtIndex(index)
 */
```

## æ€»ç»“ï¼š

ä¸€å¼€å§‹æƒ³ä½¿ç”¨åŒé“¾è¡¨å®ç°ï¼Œå› ä¸ºå¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨prevå›åˆ°ä¸Šä¸€ä¸ªç»“ç‚¹ã€‚ç»“æœå®é™…æµ‹è¯•æ‰å‘ç°æœ‰ä¸€ä¸ªå¤§å‘ï¼Œéå†çš„ç»“æŸæ ‡è®°ä½ä¸å¥½å¤„ç†ï¼Œç™½å¤©å·¥ä½œä¸å¿™äº†è¿˜å†™äº†å†™ï¼Œç»“æœè¶Šå†™è¶Šä¹±ï¼Œåé¢è‡ªå·±éƒ½å·²ç»å¼„ä¸å‡ºæ¥äº†ã€‚å’Œé¢˜è§£æ€è·¯ä¸ä¸€è‡´ã€‚åé¢æœæ–­æ”¾å¼ƒï¼Œä½¿ç”¨å•é“¾è¡¨å®ç° ğŸ˜¢