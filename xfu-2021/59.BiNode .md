# é¢è¯•é¢˜ 17.12. BiNode

> LeetCodeåœ°å€ï¼š[è®¿é—®](https://leetcode-cn.com/problems/binode-lcci/) 
Githubåœ°å€ï¼šè®¿é—®

## é¢˜ç›®åŠé¢˜æ„åˆ†æ

### é¢˜ç›®

äºŒå‰æ ‘æ•°æ®ç»“æ„TreeNodeå¯ç”¨æ¥è¡¨ç¤ºå•å‘é“¾è¡¨ï¼ˆå…¶ä¸­leftç½®ç©ºï¼Œrightä¸ºä¸‹ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼‰ã€‚å®ç°ä¸€ä¸ªæ–¹æ³•ï¼ŒæŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºå•å‘é“¾è¡¨ï¼Œè¦æ±‚ä¾ç„¶ç¬¦åˆäºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œè½¬æ¢æ“ä½œåº”æ˜¯åŸå€çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨åŸå§‹çš„äºŒå‰æœç´¢æ ‘ä¸Šç›´æ¥ä¿®æ”¹ã€‚

è¿”å›è½¬æ¢åçš„å•å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

**æç¤ºï¼š**

- èŠ‚ç‚¹æ•°é‡ä¸ä¼šè¶…è¿‡ 100000ã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š [4,2,5,1,3,null,6,0]
è¾“å‡ºï¼š [0,null,1,null,2,null,3,null,4,null,5,null,6]
```

### é¢˜æ„

- æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢æˆå•é“¾è¡¨å½¢å¼
- è½¬æ¢åä¾ç„¶ç¬¦åˆäºŒå‰æœç´¢æ ‘çš„è·ªç€æˆ‘
- äºŒå‰æœç´¢æ ‘ï¼šå·¦å­æ ‘å‡å°äºä¸­é—´ç»“ç‚¹ï¼Œå³å­æ ‘å‡å¤§äºä¸­é—´ç»“ç‚¹

### è§£é¢˜æ€è·¯

1. ä¸­åºéå†ç»“ç‚¹ï¼Œç›´æ¥æŠŠç»“ç‚¹é“¾æ¥åœ¨ä¸€èµ·
    - æ—¶é—´å¤æ‚åº¦ O(N)
    - ç©ºé—´å¤æ‚åº¦ O(N)
2. åˆ©ç”¨æ ˆï¼Œå…ˆä¿å­˜ä¸­åºéå†åçš„ç»“ç‚¹ï¼Œç„¶åä¸€ä¸ªç»“ç‚¹ä¸€ä¸ªç»“ç‚¹çš„å‡ºæ ˆï¼Œä»é“¾è¡¨çš„å°¾éƒ¨å¼€å§‹ç¼–ç»‡å®Œæ•´é“¾è¡¨
    - æ—¶é—´å¤æ‚åº¦ O(2N)
    - ç©ºé—´å¤æ‚åº¦ O(N)

## ä»£ç å®ç°

ã€æ€è·¯1ã€‘**æ­£ç¡®ä»£ç **

```tsx
/**
 * Definition for a binary tree node.
 * class TreeNode {
 *     val: number
 *     left: TreeNode | null
 *     right: TreeNode | null
 *     constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {
 *         this.val = (val===undefined ? 0 : val)
 *         this.left = (left===undefined ? null : left)
 *         this.right = (right===undefined ? null : right)
 *     }
 * }
 */

function convertBiNode(root: TreeNode | null): TreeNode | null {
    let headNode = null;
    let lastNode = null;

    function mapTree(node: TreeNode | null) {
        if(!node) return;

        mapTree(node.left);

        const newNode = new TreeNode(node.val);

				// å¤´ç»“ç‚¹ä¸å­˜åœ¨æ—¶ï¼Œå½“å‰å¤„ç†çš„ç»“ç‚¹å°±æ˜¯å¤´ç»“ç‚¹
				// å¤´ç»“ç‚¹å­˜åœ¨æ—¶ï¼Œè¿½åŠ å°¾ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹
        if(!headNode){
            headNode = newNode;
        }else{
            lastNode.right = newNode;
        }

				// æ›´æ–°å°¾ç»“ç‚¹
        lastNode = newNode;

        mapTree(node.right);
    }

    mapTree(root);

    return headNode;
};
```

ã€æ€è·¯2ã€‘**æ­£ç¡®ä»£ç **

```tsx
/**
 * Definition for a binary tree node.
 * class TreeNode {
 *     val: number
 *     left: TreeNode | null
 *     right: TreeNode | null
 *     constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {
 *         this.val = (val===undefined ? 0 : val)
 *         this.left = (left===undefined ? null : left)
 *         this.right = (right===undefined ? null : right)
 *     }
 * }
 */

function convertBiNode(root: TreeNode | null): TreeNode | null {
    const stack = [];

    (function mapTree(node: TreeNode | null) {
        if(!node) return;

        mapTree(node.left);

        const newNode = new TreeNode(node.val);

        stack.push(newNode);

        mapTree(node.right);
    })(root);

    let headNode = stack.pop() || null;

    while(stack.length){
        const lastNode = stack.pop();
        lastNode.right = headNode;

        headNode = lastNode;
    }

    return headNode;
};
```

## æ€»ç»“ï¼š

ä¸€ä¸ªå¤šæ˜ŸæœŸæ²¡å†™ä»£ç ï¼Œè„‘å­éƒ½ä¸çµæ´»äº†ã€‚ä¸€å¼€å§‹ç«Ÿç„¶æƒ³ç›´æ¥è½¬æ¢åŸç»“ç‚¹ğŸ˜¥